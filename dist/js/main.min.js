Site={mobileThreshold:601,init:function(){var _this=this;_this.$sliderHolder=$(".slider-holder"),$(window).resize(function(){_this.onResize()}),$(document).ready(function(){Site.Menu.init(),$(".slick-container").length&&Site.Gallery.init(),$(".js-hover-item").length&&Site.HoverImages.init(),$("#mc_embed_signup").length&&Site.Mailchimp.init()})},onResize:function(){$(".slick-container").length&&Site.Gallery.toggleSlick()},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})}},Site.Menu={init:function(){var _this=this;_this.$header=$("#header"),$(document).scroll(function(){$(this).scrollTop()>0?_this.$header.addClass("stuck"):_this.$header.removeClass("stuck")})}},Site.HoverImages={init:function(){var _this=this;_this.hoverItems=$(".js-hover-item"),_this.bind()},bind:function(){this.hoverItems.on({"mouseover.hover":function(){var $image=$(this).find(".hover-image");$image.addClass("show"),$(window).on("mousemove.hover",function(event){$image.css({top:event.pageY-this.pageYOffset-$image.height()/2,left:event.pageX-$image.width()/2})})},mouseleave:function(){$(this).find(".hover-image").removeClass("show"),$(window).off("mouseover.hover")}})}},Site.Gallery={init:function(){var _this=this;_this.toggleSlick(),_this.bindSwitch(),_this.$gallerySlide=$(".slick-slide"),_this.$activeSlide=$(".slick-current.slick-active"),_this.$galleryZoom=$("#gallery-zoom"),_this.$galleryZoomImg=$("#gallery-zoom-image"),_this.bindZoom(),_this.bindZoomOut()},toggleSlick:function(windowWidth){var _this=this,windowWidth=$(window).width();console.log(windowWidth),windowWidth>720?($("#slider-holder-install").length&&_this.initSlick("install"),$("#slider-holder-works").length&&_this.initSlick("works")):($("#slider-holder-install").length&&_this.unSlick("install"),$("#slider-holder-works").length&&_this.unSlick("works"))},initSlick:function(type){var _this=this;$("#slick-"+type).hasClass("slick-initialized")||$("#slick-"+type).on({init:function(event,slick,currentSlide){_this.updateCaption(0),_this.captionHeight()},beforeChange:function(event,slick,currentSlide){_this.clearCaption()},afterChange:function(event,slick,currentSlide){_this.updateCaption(currentSlide),_this.bindZoom()}}).slick({dots:!1,arrows:!0,infinite:!0,speed:300,slidesToShow:1,centerMode:!0,variableWidth:!0,focusOnSelect:!0,nextArrow:".slider-next-"+type,prevArrow:".slider-prev-"+type})},unSlick:function(type){$("#slick-"+type).hasClass("slick-initialized")&&$("#slick-"+type).slick("unslick")},updateCaption:function(activeIndex){var _this=this;if(activeIndex)var imageId=$('.slider-holder.active .slick-slide[data-slick-index="'+activeIndex+'"]').attr("data-id");else var imageId=$(".slider-holder.active .slick-active").attr("data-id");_this.clearCaption();var $caption=$('[data-id="'+imageId+'"]');$caption.length&&$caption.addClass("show")},clearCaption:function(){$(".slider-controls-caption").removeClass("show")},captionHeight:function(){var topHeight=0;$(window).width()>720&&($(".slider-controls-caption").each(function(){var thisHeight=$(this).outerHeight();thisHeight>topHeight&&(topHeight=thisHeight)}),$("#slider-controls-caption-holder").height(topHeight))},bindSwitch:function(){var _this=this;$(".slider-switch").on("click",function(){if(!$(this).hasClass(".active")){var type=$(this).attr("data-target");$(".slider-switch, .slider-holder, .slider-buttons, .slider-controls-caption-wrapper").removeClass("active"),$(this).addClass("active"),$("#slider-holder-"+type+", #slider-buttons-"+type).addClass("active"),$("#slider-controls-caption-"+type).addClass("active"),_this.updateCaption()}})},bindZoom:function(){var _this=this;_this.$gallerySlide.unbind("click.zoomEvent"),$(".slick-current.slick-active").bind("click.zoomEvent",function(){var imgSrc=$(this).find("img").attr("src");_this.$galleryZoom.addClass("show"),_this.$galleryZoomImg.attr("src",imgSrc)})},bindZoomOut:function(){this.$galleryZoom.bind("click",function(){$(this).removeClass("show")})}},Site.init();
//# sourceMappingURL=main.min.js.map
