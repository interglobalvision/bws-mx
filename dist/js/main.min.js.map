{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$sliderHolder","$","window","resize","onResize","document","ready","Menu","length","Gallery","HoverImages","Mailchimp","toggleSlick","fixWidows","each","string","html","replace","$header","scroll","scrollTop","addClass","removeClass","hoverItems","bind","on","mouseover.hover","$image","find","event","css","top","pageY","pageYOffset","height","left","pageX","width","mouseleave","off","bindSwitch","$gallerySlide","$activeSlide","$galleryZoom","$galleryZoomImg","bindZoom","bindZoomOut","windowWidth","console","log","initSlick","unSlick","type","hasClass","slick","currentSlide","updateCaption","captionHeight","beforeChange","clearCaption","afterChange","dots","arrows","infinite","speed","slidesToShow","centerMode","variableWidth","focusOnSelect","nextArrow","prevArrow","activeIndex","imageId","attr","$caption","topHeight","thisHeight","outerHeight","unbind","imgSrc"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Site, Modernizr, Swiper */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    _this.$sliderHolder = $('.slider-holder');\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    $(document).ready(function () {\n\n      Site.Menu.init();\n\n      if ($('.slick-container').length) {\n        Site.Gallery.init();\n      }\n\n      if ($('.js-hover-item').length) {\n        Site.HoverImages.init();\n      }\n\n      if ($('#mc_embed_signup').length) {\n        Site.Mailchimp.init();\n      }\n\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if ($('.slick-container').length) {\n      Site.Gallery.toggleSlick();\n    }\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.Menu = {\n  init: function() {\n    var _this = this;\n\n    _this.$header = $('#header');\n\n    $(document).scroll( function() {\n      if( $(this).scrollTop() > 0 ) {\n        _this.$header.addClass('stuck');\n      } else {\n        _this.$header.removeClass('stuck');\n      }\n    });\n  },\n};\n\nSite.HoverImages = {\n  init: function() {\n    var _this = this;\n\n    _this.hoverItems = $('.js-hover-item');\n\n    _this.bind();\n  },\n\n  bind: function() {\n    var _this = this;\n\n    _this.hoverItems.on({\n      'mouseover.hover': function() {\n        // handleIn\n\n        var $image = $(this).find('.hover-image');\n\n        $image.addClass('show');\n\n        $(window).on('mousemove.hover', function(event) {\n          $image.css({\n            'top': (event.pageY - this.pageYOffset) - $image.height() / 2,\n            'left': event.pageX -  ($image.width() / 2),\n          });\n        });\n\n      },\n      'mouseleave': function() {\n        // handleOut\n        var $image = $(this).find('.hover-image');\n\n        $image.removeClass('show');\n\n        $(window).off('mouseover.hover');\n      }\n    });\n\n  },\n};\n\nSite.Gallery = {\n  init: function() {\n    var _this = this;\n\n    _this.toggleSlick();\n\n    _this.bindSwitch();\n\n    _this.$gallerySlide = $('.slick-slide');\n    _this.$activeSlide = $('.slick-current.slick-active');\n    _this.$galleryZoom = $('#gallery-zoom');\n    _this.$galleryZoomImg = $('#gallery-zoom-image');\n\n    _this.bindZoom();\n    _this.bindZoomOut();\n  },\n\n  toggleSlick: function(windowWidth) {\n    var _this = this;\n\n    var windowWidth = $(window).width();\n\n    console.log(windowWidth);\n\n    if (windowWidth > 720) {\n      if ($('#slider-holder-install').length) {\n        _this.initSlick('install');\n      }\n      if ($('#slider-holder-works').length) {\n        _this.initSlick('works');\n      }\n    } else {\n      if ($('#slider-holder-install').length) {\n        _this.unSlick('install');\n      }\n      if ($('#slider-holder-works').length) {\n        _this.unSlick('works');\n      }\n    }\n  },\n\n  initSlick: function(type) {\n    var _this = this;\n\n    if (!$('#slick-' + type).hasClass('slick-initialized')) {\n      $('#slick-' + type).on({\n        init: function(event, slick, currentSlide) {\n          _this.updateCaption(0);\n          _this.captionHeight();\n        },\n        beforeChange: function(event, slick, currentSlide) {\n          _this.clearCaption();\n        },\n        afterChange: function(event, slick, currentSlide) {\n          _this.updateCaption(currentSlide);\n          _this.bindZoom();\n        }\n      }).slick({\n        dots: false,\n        arrows: true,\n        infinite: true,\n        speed: 300,\n        slidesToShow: 1,\n        centerMode: true,\n        variableWidth: true,\n        focusOnSelect: true,\n        nextArrow: '.slider-next-' + type,\n        prevArrow: '.slider-prev-' + type,\n      });\n    }\n\n  },\n\n  unSlick: function(type) {\n    if ($('#slick-' + type).hasClass('slick-initialized')) {\n      $('#slick-' + type).slick('unslick');\n    }\n  },\n\n  updateCaption: function(activeIndex) {\n    var _this = this;\n\n    // Update caption in slider control row\n    // with 'data-id' attr in active slide\n    if (activeIndex) {\n      var imageId = $('.slider-holder.active .slick-slide[data-slick-index=\"' + activeIndex + '\"]').attr('data-id');\n    } else {\n      var imageId = $('.slider-holder.active .slick-active').attr('data-id');\n    }\n\n    _this.clearCaption();\n\n    var $caption = $('[data-id=\"' + imageId + '\"]');\n\n    if ($caption.length) {\n      $caption.addClass('show');\n    }\n  },\n\n  clearCaption: function() {\n    $('.slider-controls-caption').removeClass('show');\n  },\n\n  captionHeight: function() {\n    var topHeight = 0;\n\n    if ($(window).width() > 720) {\n      $('.slider-controls-caption').each(function() {\n        var thisHeight = $(this).outerHeight();\n\n        if (thisHeight > topHeight) {\n          topHeight = thisHeight;\n        }\n      });\n\n      $('#slider-controls-caption-holder').height(topHeight);\n    }\n  },\n\n  bindSwitch: function() {\n    var _this = this;\n\n    // Bind 'Installation View' / 'Works' slider toggle\n    $('.slider-switch').on('click', function() {\n      if (!$(this).hasClass('.active')) {\n        var type = $(this).attr('data-target');\n\n        $('.slider-switch, .slider-holder, .slider-buttons, .slider-controls-caption-wrapper').removeClass('active');\n        $(this).addClass('active');\n        $('#slider-holder-' + type + ', #slider-buttons-' + type).addClass('active');\n        $('#slider-controls-caption-' + type).addClass('active');\n\n        _this.updateCaption();\n      } else {\n        return;\n      }\n    });\n  },\n\n  bindZoom: function() {\n    var _this = this;\n\n    _this.$gallerySlide.unbind('click.zoomEvent');\n\n    $('.slick-current.slick-active').bind('click.zoomEvent', function() {\n      var imgSrc = $(this).find('img').attr('src');\n\n      _this.$galleryZoom.addClass('show');\n      _this.$galleryZoomImg.attr('src', imgSrc);\n    });\n  },\n\n  bindZoomOut: function() {\n    var _this = this;\n\n    _this.$galleryZoom.bind('click', function() {\n      $(this).removeClass('show');\n    });\n  }\n};\n\nSite.init();\n"]}