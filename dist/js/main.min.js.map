{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$sliderHolder","$","window","resize","onResize","document","ready","Menu","length","Gallery","HoverImages","Mailchimp","toggleSlick","fixWidows","each","string","html","replace","$header","scroll","scrollTop","addClass","removeClass","hoverItems","bind","on","mouseover.hover","$image","find","event","css","top","pageY","pageYOffset","height","left","pageX","width","mouseleave","off","bindSwitch","windowWidth","console","log","initSlick","unSlick","type","hasClass","slick","currentSlide","updateCaption","beforeChange","clearCaption","afterChange","dots","arrows","infinite","speed","slidesToShow","centerMode","variableWidth","focusOnSelect","nextArrow","prevArrow","activeIndex","caption","attr"],"mappings":"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","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Site, Modernizr, Swiper */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    _this.$sliderHolder = $('.slider-holder');\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    $(document).ready(function () {\n\n      Site.Menu.init();\n\n      if ($('.slick-container').length) {\n        Site.Gallery.init();\n      }\n\n      if ($('.js-hover-item').length) {\n        Site.HoverImages.init();\n      }\n\n      if ($('#mc_embed_signup').length) {\n        Site.Mailchimp.init();\n      }\n\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n    if ($('.slick-container').length) {\n      Site.Gallery.toggleSlick();\n    }\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.Menu = {\n  init: function() {\n    var _this = this;\n\n    _this.$header = $('#header');\n\n    $(document).scroll( function() {\n      if( $(this).scrollTop() > 0 ) {\n        _this.$header.addClass('stuck');\n      } else {\n        _this.$header.removeClass('stuck');\n      }\n    });\n  },\n};\n\nSite.HoverImages = {\n  init: function() {\n    var _this = this;\n\n    _this.hoverItems = $('.js-hover-item');\n\n    _this.bind();\n  },\n\n  bind: function() {\n    var _this = this;\n\n    _this.hoverItems.on({\n      'mouseover.hover': function() {\n        // handleIn\n\n        var $image = $(this).find('.hover-image');\n\n        $image.addClass('show');\n\n        $(window).on('mousemove.hover', function(event) {\n          $image.css({\n            'top': (event.pageY - this.pageYOffset) - $image.height() / 2,\n            'left': event.pageX -  ($image.width() / 2),\n          });\n        });\n\n      },\n      'mouseleave': function() {\n        // handleOut\n        var $image = $(this).find('.hover-image');\n\n        $image.removeClass('show');\n\n        $(window).off('mouseover.hover');\n      }\n    });\n\n  },\n};\n\nSite.Gallery = {\n  init: function() {\n    var _this = this;\n\n    _this.toggleSlick();\n\n    _this.bindSwitch();\n  },\n\n  toggleSlick: function(windowWidth) {\n    var _this = this;\n\n    var windowWidth = $(window).width();\n\n    console.log(windowWidth);\n\n    if (windowWidth > 720) {\n      if ($('#slider-holder-install').length) {\n        _this.initSlick('install');\n      }\n      if ($('#slider-holder-works').length) {\n        _this.initSlick('works');\n      }\n    } else {\n      if ($('#slider-holder-install').length) {\n        _this.unSlick('install');\n      }\n      if ($('#slider-holder-works').length) {\n        _this.unSlick('works');\n      }\n    }\n  },\n\n  initSlick: function(type) {\n    var _this = this;\n\n    if (!$('#slick-' + type).hasClass('slick-initialized')) {\n      $('#slick-' + type).on({\n        init: function(event, slick, currentSlide) {\n          _this.updateCaption(0);\n        },\n        beforeChange: function(event, slick, currentSlide) {\n          _this.clearCaption();\n        },\n        afterChange: function(event, slick, currentSlide) {\n          _this.updateCaption(currentSlide);\n        }\n      }).slick({\n        dots: false,\n        arrows: true,\n        infinite: true,\n        speed: 300,\n        slidesToShow: 1,\n        centerMode: true,\n        variableWidth: true,\n        focusOnSelect: true,\n        nextArrow: '.slider-next-' + type,\n        prevArrow: '.slider-prev-' + type,\n      });\n    }\n\n  },\n\n  unSlick: function(type) {\n    if ($('#slick-' + type).hasClass('slick-initialized')) {\n      $('#slick-' + type).slick('unslick');\n    }\n  },\n\n  updateCaption: function(activeIndex) {\n    // Update caption in slider control row\n    // from '.slide-caption' elem in active slide\n    if (activeIndex) {\n      var caption = $('.slider-holder.active .slick-slide[data-slick-index=\"' + activeIndex + '\"] .slide-caption').html();\n    } else {\n      var caption = $('.slider-holder.active .slick-active .slide-caption').html();\n    }\n\n    if (!caption) {\n      caption = '';\n    }\n\n    $('.slider-controls-caption').html(caption);\n  },\n\n  clearCaption: function() {\n    $('.slider-controls-caption').html('');\n  },\n\n  bindSwitch: function() {\n    var _this = this;\n\n    // Bind 'Installation View' / 'Works' slider toggle\n    $('.slider-switch').on('click', function() {\n      if (!$(this).hasClass('.active')) {\n        var type = $(this).attr('data-target');\n\n        $('.slider-switch, .slider-holder, .slider-buttons').removeClass('active');\n        $(this).addClass('active');\n        $('#slider-holder-' + type + ', #slider-buttons-' + type).addClass('active');\n\n        _this.updateCaption();\n      } else {\n        return;\n      }\n    });\n  }\n};\n\nSite.init();\n"]}