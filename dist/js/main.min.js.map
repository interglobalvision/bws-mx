{"version":3,"sources":["main.js"],"names":["Site","mobileThreshold","init","_this","this","$","window","resize","onResize","document","ready","Menu","length","Gallery","HoverImages","fixWidows","each","string","html","replace","$header","scroll","scrollTop","addClass","removeClass","hoverItems","bind","on","mouseover.hover","$image","find","event","css","top","pageY","pageYOffset","height","left","pageX","width","mouseleave","off","initSwiper","bindSwitch","type","Swiper","loop","slidesPerView","loopedSlides","spaceBetween","centeredSlides","slideToClickedSlide","nextButton","prevButton","onTap","swiper","slideNext","onInit","updateCaption","realIndex","onSlideChangeEnd","activeIndex","caption","hasClass","attr"],"mappings":"AAGAA,MACEC,gBAAiB,IACjBC,KAAM,WACJ,GAAIC,OAAQC,IAEZC,GAAEC,QAAQC,OAAO,WACfJ,MAAMK,aAGRH,EAAEI,UAAUC,MAAM,WAEhBV,KAAKW,KAAKT,OAENG,EAAE,qBAAqBO,QACzBZ,KAAKa,QAAQX,OAGXG,EAAE,kBAAkBO,QACtBZ,KAAKc,YAAYZ,UAOvBM,SAAU,aAKVO,UAAW,WAETV,EAAE,kBAAkBW,KAAK,WACvB,GAAIC,QAASZ,EAAED,MAAMc,MACrBD,QAASA,OAAOE,QAAQ,YAAY,YACpCd,EAAED,MAAMc,KAAKD,YAKnBjB,KAAKW,MACHT,KAAM,WACJ,GAAIC,OAAQC,IAEZD,OAAMiB,QAAUf,EAAE,WAElBA,EAAEI,UAAUY,OAAQ,WACdhB,EAAED,MAAMkB,YAAc,EACxBnB,MAAMiB,QAAQG,SAAS,SAEvBpB,MAAMiB,QAAQI,YAAY,aAMlCxB,KAAKc,aACHZ,KAAM,WACJ,GAAIC,OAAQC,IAEZD,OAAMsB,WAAapB,EAAE,kBAErBF,MAAMuB,QAGRA,KAAM,WACQtB,KAENqB,WAAWE,IACfC,kBAAmB,WAGjB,GAAIC,QAASxB,EAAED,MAAM0B,KAAK,eAE1BD,QAAON,SAAS,QAEhBlB,EAAEC,QAAQqB,GAAG,kBAAmB,SAASI,OACvCF,OAAOG,KACLC,IAAQF,MAAMG,MAAQ9B,KAAK+B,YAAeN,OAAOO,SAAW,EAC5DC,KAAQN,MAAMO,MAAUT,OAAOU,QAAU,OAK/CC,WAAc,WAECnC,EAAED,MAAM0B,KAAK,gBAEnBN,YAAY,QAEnBnB,EAAEC,QAAQmC,IAAI,wBAOtBzC,KAAKa,SACHX,KAAM,WACJ,GAAIC,OAAQC,IAERC,GAAE,0BAA0BO,QAC9BT,MAAMuC,WAAW,WAEfrC,EAAE,wBAAwBO,QAC5BT,MAAMuC,WAAW,SAGnBvC,MAAMwC,cAGRD,WAAY,SAASE,MACnB,GAAIzC,OAAQC,IAEZ,IAAIyC,QAAQ,WAAaD,MACvBE,MAAM,EACNC,cAAe,OACfC,aAAc,EACdC,aAAc,EACdC,gBAAgB,EAChBC,qBAAqB,EACrBC,WAAY,gBAAkBR,KAC9BS,WAAY,gBAAkBT,KAC9BU,MAAO,SAASC,QACdA,OAAOC,aAETC,OAAQ,SAASF,QACfpD,MAAMuD,cAAcH,OAAOI,YAE7BC,iBAAkB,SAASL,QACzBpD,MAAMuD,cAAcH,OAAOI,eAKjCD,cAAe,SAASG,aAGtB,GAAIC,SAAUzD,EAAE,gEAAkEwD,YAAc,qBAAqB3C,MAEhH4C,WACHA,QAAU,IAGZzD,EAAE,4BAA4Ba,KAAK4C,UAGrCnB,WAAY,WAEVtC,EAAE,kBAAkBsB,GAAG,QAAS,WAC9B,IAAKtB,EAAED,MAAM2D,SAAS,WAAtB,CACE,GAAInB,MAAOvC,EAAED,MAAM4D,KAAK,cAExB3D,GAAE,mDAAmDmB,YAAY,UACjEnB,EAAED,MAAMmB,SAAS,UACjBlB,EAAE,kBAAoBuC,KAAO,qBAAuBA,MAAMrB,SAAS,eAQ3EvB,KAAKE","file":"main.min.js","sourcesContent":["/* jshint browser: true, devel: true, indent: 2, curly: true, eqeqeq: true, futurehostile: true, latedef: true, undef: true, unused: true */\n/* global $, jQuery, document, Site, Modernizr, Swiper */\n\nSite = {\n  mobileThreshold: 601,\n  init: function() {\n    var _this = this;\n\n    $(window).resize(function(){\n      _this.onResize();\n    });\n\n    $(document).ready(function () {\n\n      Site.Menu.init();\n\n      if ($('.swiper-container').length) {\n        Site.Gallery.init();\n      }\n\n      if ($('.js-hover-item').length) {\n        Site.HoverImages.init();\n      }\n\n    });\n\n  },\n\n  onResize: function() {\n    var _this = this;\n\n  },\n\n  fixWidows: function() {\n    // utility class mainly for use on headines to avoid widows [single words on a new line]\n    $('.js-fix-widows').each(function(){\n      var string = $(this).html();\n      string = string.replace(/ ([^ ]*)$/,'&nbsp;$1');\n      $(this).html(string);\n    });\n  },\n};\n\nSite.Menu = {\n  init: function() {\n    var _this = this;\n\n    _this.$header = $('#header');\n\n    $(document).scroll( function() {\n      if( $(this).scrollTop() > 0 ) {\n        _this.$header.addClass('stuck');\n      } else {\n        _this.$header.removeClass('stuck');\n      }\n    });\n  },\n};\n\nSite.HoverImages = {\n  init: function() {\n    var _this = this;\n\n    _this.hoverItems = $('.js-hover-item');\n\n    _this.bind();\n  },\n\n  bind: function() {\n    var _this = this;\n\n    _this.hoverItems.on({\n      'mouseover.hover': function() {\n        // handleIn\n\n        var $image = $(this).find('.hover-image');\n\n        $image.addClass('show');\n\n        $(window).on('mousemove.hover', function(event) {\n          $image.css({\n            'top': (event.pageY - this.pageYOffset) - $image.height() / 2,\n            'left': event.pageX -  ($image.width() / 2),\n          });\n        });\n\n      },\n      'mouseleave': function() {\n        // handleOut\n        var $image = $(this).find('.hover-image');\n\n        $image.removeClass('show');\n\n        $(window).off('mouseover.hover');\n      }\n    });\n\n  },\n};\n\nSite.Gallery = {\n  init: function() {\n    var _this = this;\n\n    if ($('#slider-holder-install').length) {\n      _this.initSwiper('install');\n    }\n    if ($('#slider-holder-works').length) {\n      _this.initSwiper('works');\n    }\n\n    _this.bindSwitch();\n  },\n\n  initSwiper: function(type) {\n    var _this = this;\n\n    new Swiper ('#swiper-' + type, {\n      loop: true,\n      slidesPerView: 'auto',\n      loopedSlides: 5,\n      spaceBetween: 0,\n      centeredSlides: true,\n      slideToClickedSlide: true,\n      nextButton: '.slider-next-' + type,\n      prevButton: '.slider-prev-' + type,\n      onTap: function(swiper) {\n        swiper.slideNext();\n      },\n      onInit: function(swiper) {\n        _this.updateCaption(swiper.realIndex);\n      },\n      onSlideChangeEnd: function(swiper) {\n        _this.updateCaption(swiper.realIndex);\n      },\n    });\n  },\n\n  updateCaption: function(activeIndex) {\n    // Update caption in slider control row\n    // from '.slide-caption' elem in active slide\n    var caption = $('.slider-holder.active .swiper-slide[data-swiper-slide-index=\"' + activeIndex + '\"] .slide-caption').html();\n\n    if (!caption) {\n      caption = '';\n    }\n\n    $('.slider-controls-caption').html(caption);\n  },\n\n  bindSwitch: function() {\n    // Bind 'Installation View' / 'Works' slider toggle\n    $('.slider-switch').on('click', function() {\n      if (!$(this).hasClass('.active')) {\n        var type = $(this).attr('data-target');\n\n        $('.slider-switch, .slider-holder, .slider-buttons').removeClass('active');\n        $(this).addClass('active');\n        $('#slider-holder-' + type + ', #slider-buttons-' + type).addClass('active');\n      } else {\n        return;\n      }\n    });\n  }\n};\n\nSite.init();\n"]}